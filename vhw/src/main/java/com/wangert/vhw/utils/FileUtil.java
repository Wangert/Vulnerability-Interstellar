package com.wangert.vhw.utils;

import java.io.*;
import java.util.ArrayList;

/**
 *
 * 文件操作工具类
 * @Author:Wangert
 *
 */

public class FileUtil {

    //按行写入数据
    public void fileWrite(String content, String path) throws IOException {


        File newFile = new File(path);
        if (!newFile.exists()) {
            newFile.createNewFile();
        }

        //写入中文字符时解决中文乱码问题
        FileOutputStream fos = new FileOutputStream(new File(path), true);
        OutputStreamWriter osw = new OutputStreamWriter(fos, "UTF-8");
        BufferedWriter bw = new BufferedWriter(osw);


        bw.write(content + "\n");

        //注意关闭的先后顺序，先打开的后关闭，后打开的先关闭
        bw.close();
        osw.close();
        fos.close();
    }

    //按行读取数据
    public ArrayList<String> fileRead(String path) throws IOException {

        File newFile = new File(path);
        if (!newFile.exists()) {
            newFile.createNewFile();
        }

        FileInputStream fis=new FileInputStream(path);
        InputStreamReader isr=new InputStreamReader(fis, "UTF-8");
        BufferedReader br = new BufferedReader(isr);

        String line = "";
        ArrayList<String> arrayList = new ArrayList<>();

        while ((line = br.readLine()) != null) {

            arrayList.add(line);
            //System.out.println(line);
        }

        //System.out.println(arrayList.size());

        br.close();
        isr.close();
        fis.close();

        return arrayList;
    }

    /*
    public static void main(String[] args) {

        FileUtil fileUtil = new FileUtil();

        try {

            fileUtil.fileWrite("wwwwwwww", "src/main/resources/dataCache/userVulnerabilities/wangjitao.txt");

            //fileUtil.fileRead("src/main/resources/dataCache/userList.txt");

        }catch (IOException e) {
            e.printStackTrace();
        }

    }
    */

}
