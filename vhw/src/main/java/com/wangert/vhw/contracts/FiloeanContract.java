package com.wangert.vhw.contracts;

import com.wangert.vhw.blockchain.Filoean;
import com.wangert.vhw.utils.PropertyUtil;

/**
 *
 * 合约类
 * @Author：Wangert
 *
 */

public class FiloeanContract {

    //合约地址
    String contractAddress;
    //App Key
    String appKey;
    //App Secret
    String appSecret;
    //合约UUID
    String uuid;
    //用户私钥
    String accountPrivateJson;
    //飞洛区块链对象
    Filoean filoean;

    //构造函数初始化合约参数
    public FiloeanContract(String contractAddress, String contractIndex) {

        PropertyUtil propertyUtil = new PropertyUtil("src/main/resources/config/blockchain.properties");

        this.contractAddress = contractAddress;

        try {

            this.appKey = propertyUtil.getData("AppKey");
            this.appSecret = propertyUtil.getData("AppSecret");
            this.uuid = propertyUtil.getData("UUID" + contractIndex);
            this.accountPrivateJson = propertyUtil.getData("AccountPrivateJson");

        }catch (Exception e) {

            e.printStackTrace();

        }

        this.filoean = new Filoean(this.appKey, this.appSecret, this.uuid, false, contractAddress);


    }

}
