<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" style="height: 100%">
<head th:replace="base :: #public_head">

</head>
<body style="margin: 0;">
<nav th:replace="base :: #public_nav">
</nav>
<hr th:replace="base :: #public_hr"/>

<div th:replace="personalCenterVulnerability :: #personalCenterleft"></div>


<div style="overflow-y: scroll; width: 84%; height: 100%; float: right; margin-right: 0.5%; background-color: rgba(248,248,255, 0.9)">

    <div class="page-header">
        <h1>Publish Patch <small><span class="glyphicon glyphicon-hand-right"></span>&nbsp;[[${session.loginUsername}]]</small></h1>
    </div>

    <div style="margin-right: 10%; margin-left: 10%; margin-top: 5%">
        <form id="upload">
            <div class="form-group">
                <label>Vulnerability Hash</label>
                <input type="text" class="form-control" id="inputHash" placeholder="Vulnerability Hash">
            </div>

            <div class="form-group">
                <label>Patch Name</label>
                <input type="text" class="form-control" id="inputName" placeholder="Name">
            </div>

            <div class="form-group">
                <label>Patch Details</label>
                <textarea class="form-control" rows="8" id="description">Patch Description：</textarea>
            </div>

            <div class="form-group">
                <label>File Upload</label>

                <div class="input-group">
                    <input type="text" id="display" class="form-control" οnkeydοwn="return false;" οnpaste="return false;" placeholder="Select file..." >
                    <label class="input-group-btn">
                        <span class="btn btn-info" style="height: 34px">
                            <i class="glyphicon glyphicon-open" style="margin: 0;"></i>  
                            <button type="button" style="background-color: unset; border-style: unset; border-width: 0; height: 20px; margin: 0" onclick="uploadPatch()">Upload</button>
                        </span>

                        <iframe name='hidden_frame' id="hidden_frame" style='display:none'></iframe>

                        <span class="btn btn-primary">
                            <i class="glyphicon glyphicon-folder-open"></i>
                            <button type="button" style="background-color: unset; border-style: unset; border-width: 0; height: 20px; margin: 0" onclick="getFile()">Browse...</button>
                            <input type="file" style="display: none" name="file" id="getF" onchange="clickF()">
                        </span>
                    </label>
                </div>
            </div>


            <!--进度条部分(默认隐藏)-->
            <div style="display: none; margin-top: 1%" class="progress">
                <!-- <span style="width: 100px; display: inline-block; text-align: right">上传进度：</span> -->
                <div id="progress_rate" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: 0%">
                    <span id="percent">0%</span>
                </div>
                <br/>
                <div>
                    <span style="width: 100px; display: inline-block; text-align: right">上传速度：</span>
                    <span style="margin-bottom: 10px; margin-left: 30px; width: 300px;" class="progress-speed">0 M/S, 0/0M</span>
                </div>
            </div>

            <div style="display: none; margin-top: 2%" class="uploadSuccess">
                <h4 style="color: rgba(0, 100, 0, 1)"><span class="glyphicon glyphicon-check"></span>&nbsp;Successful Uploading Patch</h4>
            </div>


            <br/>

            <button type="button" class="btn btn-default" style="background-color: rgba(238, 130, 238, 0.9); border: unset; width: 150px" onclick="submitFormP()">Publish</button>
        </form>


    </div>






</div>
</body>