<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="base :: #public_head">

</head>
<body style="margin: 0">
<nav th:replace="base :: #public_nav">
</nav>
<hr th:replace="base :: #public_hr"/>

<div class="main2">
    <div  class="well well-lg" style="background-color: rgba(248,248,255, 0.05); border: none" ><h3 align="center" style="color: #bce8f1">Vulnerability Program List</h3></div>

    <div class="bodyforindex2">

        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

            <!-- 循环遍历漏洞显示在主页-->
            <div th:each="map, mapStat : ${vulnerabilityList}" class="panel panel-default">
                <div class="panel-heading" role="tab" style="padding: 5px;">
                    <h4 class="panel-title" style="height:30px">
                        <span style="width: 80%">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" th:href="'#collapse' + ${map[ipfsHash]}" aria-expanded="true" th:aria-controls="'collapse'+${map[ipfsHash]}" style="padding-top: 10px;">
                                <p style="font-size: x-small; margin-left: 1%; margin-top: 7px; float: left">#[[${mapStat.index + 1}]] [[${map.ipfsHash}]]</p>
                            </a>
                        </span>

                        <button type="button" class="btn btn-default btn-lg" style="float: right; padding: 1px; background-color: #86989B; width: 12%; height: 30px" >
                            <h5 style="margin-top: 4px"><span class="glyphicon glyphicon-thumbs-up"></span> star </h5>
                        </button>


                        <button type="button" class="btn btn-default btn-lg" style="float: right; padding: 1px; background-color: #86989B; width: 12%; height: 30px" data-toggle="modal" th:data-target="'#vulnerability' + ${mapStat.index}">
                            <h5 style="margin-top: 4px"><span class="glyphicon glyphicon-sunglasses" style="margin-top: 0"></span> view </h5>
                        </button>

                        <div class="modal fade" th:id="'vulnerability' + ${mapStat.index}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="page-header">
                                        <h1>Vulnerability Information <small>[[${map.vulnerabilityName}]]</small></h1>
                                    </div>
                                    <hr/>
                                    <div>
                                        <p><h3>Vulnerability Publisher:</h3>[[${map.username}]]</p>
                                        <p><h3>Vulnerability Hash:</h3>[[${map.ipfsHash}]]</p>
                                        <p><h3>Vulnerability Submit Date:</h3>[[${map.releaseDate}]]</p>
                                        <p><h3>Current State:</h3>[[${map.fixDate}]]</p>
                                        <p><h3>Star:</h3>[[${map.star}]]</p>
                                        <p><h3>Score:</h3>[[${map.score}]]</p>
                                        <p><h3>Vulnerability Description:</h3>
                                        <textarea class="form-control" style="width: 70%; margin-left: 15%" rows="8" th:text="${map[description]}" disabled></textarea>
                                        </p>

                                        <br/>

                                        <div>
                                            <button type="button" class="btn btn-info" th:onclick="downloadVulnerability([[${map.ipfsHash}]]);">Download</button>
                                        </div>


                                        <a th:id="'download' + ${map[ipfsHash]}" th:href="@{/downloadVulnerability(fileName=${map[ipfsHash]})}" style="display: none"></a>

                                        <br/>
                                        <hr/>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </h4>
                </div>

                <div th:id="'collapse' + ${map[ipfsHash]}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                    <div class="panel-body">
                        <p><strong>Name:</strong>&nbsp;[[${map.vulnerabilityName}]]</p>
                        <p><strong>Publisher:</strong>&nbsp;[[${map.username}]]</p>
                        <p><strong>Hash:</strong>&nbsp;[[${map.ipfsHash}]]</p>
                        <p><strong>Submit Date:</strong>&nbsp;[[${map.releaseDate}]]</p>
                        <p><strong>Current State:</strong>&nbsp;[[${map.fixDate}]]</p>
                    </div>
                </div>

            </div>




        </div>
    </div>
    <!--
    <div  class="bodyforindex">
        <h4 align="center" style="color: #bce8f1">This platform was developed by Wangert team and is specially provided for information security companies, enterprises with security needs and enterprises with security departments.</h4>>
    </div>
    <br/><br/><br/><br/>


    <div  class="bodyforindex">
        <h6 align="center" style="color: #bce8f1">Developers: Wangert Team</h6>
        <h6 align="center" style="color: #bce8f1">Affiliation: School of Computer Science, Nanjing University of Posts and Telecommunications</h6>
        <h6 align="center" style="color: #bce8f1">Email: joten_wang@qq.com</h6>
        <h6 align="center" style="color: #bce8f1">Version: Wangert 1.0</h6>
    </div>
    -->
</div>

<div class="main2">
    <div class="well well-lg" style="background-color: rgba(248,248,255, 0.05); border: none"><h3 align="center" style="color: #bce8f1">Patch List</h3></div>

    <div class="bodyforindex2">

        <div class="panel-group" id="accordion1" role="tablist" aria-multiselectable="true">

            <!--===========循环遍历补丁===============-->
            <div th:each="map, mapStat : ${patchList}" class="panel panel-default">
                <div class="panel-heading" role="tab" style="padding: 5px;">
                    <h4 class="panel-title" style="height:30px">
                        <span style="width: 80%">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" th:href="'#collapse' + ${map[ipfsHash]}" aria-expanded="true" th:aria-controls="'collapse'+${map[ipfsHash]}" style="padding-top: 10px;">
                                <p style="font-size: x-small; margin-left: 1%; margin-top: 7px; float: left">#[[${mapStat.index + 1}]] [[${map.ipfsHash}]]</p>
                            </a>
                        </span>

                        <button type="button" class="btn btn-default btn-lg" style="float: right; padding: 1px; background-color: #86989B; width: 12%; height: 30px" >
                            <h5 style="margin-top: 4px"><span class="glyphicon glyphicon-thumbs-up"></span> star </h5>
                        </button>


                        <button type="button" class="btn btn-default btn-lg" style="float: right; padding: 1px; background-color: #86989B; width: 12%; height: 30px" data-toggle="modal" th:data-target="'#patch' + ${mapStat.index}">
                            <h5 style="margin-top: 4px"><span class="glyphicon glyphicon-sunglasses" style="margin-top: 0"></span> view </h5>
                        </button>

                        <div class="modal fade" th:id="'patch'+ ${mapStat.index}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="page-header">
                                        <h1>Patch Information <small>[[${map.patchName}]]</small></h1>
                                    </div>
                                    <hr/>
                                    <div>
                                        <p><h3>Patch Publisher:</h3>[[${map.username}]]</p>
                                        <p><h3>Patch Hash:</h3>[[${map.ipfsHash}]]</p>
                                        <p><h3>Vulnerability Hash:</h3>[[${map.vulnerabilityHash}]]</p>
                                        <p><h3>Patch Submit Date:</h3>[[${map.releaseDate}]]</p>
                                        <p><h3>Star:</h3>[[${map.star}]]</p>
                                        <p><h3>Score:</h3>[[${map.score}]]</p>
                                        <p><h3>Patch Description:</h3>
                                        <textarea class="form-control" style="width: 70%; margin-left: 15%" rows="8" th:text="${map[description]}" disabled></textarea>
                                        </p>

                                        <br/>

                                        <div>
                                            <button type="button" class="btn btn-info" th:onclick="downloadPatch([[${map.ipfsHash}]]);">Download</button>
                                        </div>


                                        <a th:id="'download' + ${map[ipfsHash]}" th:href="@{/downloadPatch(fileName=${map[ipfsHash]} + '.zip')}" style="display: none"></a>

                                        <br/>
                                        <hr/>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </h4>
                </div>

                <div th:id="'collapse' + ${map[ipfsHash]}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                    <div class="panel-body">
                        <p><strong>Name:</strong>&nbsp;[[${map.patchName}]]</p>
                        <p><strong>Publisher:</strong>&nbsp;[[${map.username}]]</p>
                        <p><strong>PHash:</strong>&nbsp;[[${map.ipfsHash}]]</p>
                        <p><strong>VHash:</strong>&nbsp;[[${map.vulnerabilityHash}]]</p>
                        <p><strong>Submit Date:</strong>&nbsp;[[${map.releaseDate}]]</p>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>



<div class="main3">
    <div class="well well-lg" style="background-color: rgba(248,248,255, 0.05); border: none" ><h3 align="center" style="color: #bce8f1">Contribution Ranking</h3></div>

    <div class="contribution">
    <p style="color: #bce8f1; margin-left: 20%; dpxisplay: inline-block; vertical-align: middle; text-align: left">
        <span class="glyphicon glyphicon-king" style="color: yellow; width: 22px"></span>&nbsp;liukun(3676/26388)</p>

    <p style="color: #bce8f1; margin-left: 20%; display: inline-block; vertical-align: middle; text-align: left">
        <span class="glyphicon glyphicon-queen" style="color: #d3d9df; width: 22px"></span>&nbsp;Wangert(3028/19433)</p>

    <p style="color: #bce8f1; margin-left: 20%; display: inline-block; vertical-align: middle; text-align: left">
        <span class="glyphicon glyphicon-pawn" style="color: #985f0d; width: 22px"></span>&nbsp;guyu(6503/17039)</p>

    <p style="color: #bce8f1; margin-left: 20%; display: inline-block; vertical-align: middle; text-align: left">
        <span class="label label-default" style="width: 30px">4</span>&nbsp;qian(12909/12909)</p>

    <p style="color: #bce8f1; margin-left: 20%; display: inline-block; vertical-align: middle; text-align: left">
        <span class="label label-default" style="width: 30px">5</span>&nbsp;fan(3248/7989)</p>

    <p style="color: #bce8f1; margin-left: 20%; display: inline-block; vertical-align: middle; text-align: left">
        <span class="label label-default" style="width: 30px">6</span>&nbsp;wangjitao(845/845)</p>

    <p th:each="map, mapStat : ${userContributionList}" style="color: #bce8f1; margin-left: 20%; display: inline-block; vertical-align: middle; text-align: left; width: 80%">
        <span class="label label-default" style="width: 30px">[[${mapStat.index + 7}]]</span>&nbsp;[[${map['username']}]]([[${map['residualContribution']}]]/[[${map['totalContribution']}]])</p>
    </div>

</div>

<footer>
    <p><h5 align="center" style="color: #bce8f1">&nbsp;&nbsp;</h5></p>
 <p><h5 align="center" style="color: #bce8f1">©️Copyright：Wangert</h5></p>
 <p><h5 align="center" style="color: #bce8f1">Vertion：1.0.1</h5></p>
</footer>
